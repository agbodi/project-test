name: My deploy workflow

on:
  workflow_run:
    workflows: My tests workflow # Reuse the name of your tests workflow
    branches: master
    types: completed

#jobs:
#  deploy:
#    # `if` required because a workflow run is triggered regardless of
#    # the result of the previous workflow (see the documentation page)
#    if: ${{ github.event.workflow_run.conclusion == 'success' }}
#
#    # ... your implementation to deploy your project
#
jobs:
   prod:
     if: ${{ github.event.workflow_run.conclusion == 'failure' }}
     steps:
       - run: echo "First workflow was a success"
